(this["webpackJsonpimage-search"]=this["webpackJsonpimage-search"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var i=n(1),c=n(0),a=n.n(c),r=n(17),o=n.n(r),s=(n(25),n(11)),l=n(2),d=n(10),j=(n(26),function(e){var t=e.title,n=e.children;return Object(i.jsxs)("div",{className:"layout",children:[t&&Object(i.jsx)("h2",{className:"layout_title",children:t}),Object(i.jsx)("div",{children:n})]})}),u=(n(27),function(e){var t=e.onChange,n=e.hint;return Object(i.jsx)("input",{type:"text",onChange:t,className:"text_input",placeholder:n||"Type something..."})}),h=(n(28),function(e){var t=e.className,n=e.onClick,c=e.children,a=t?" ".concat(t):" main";return Object(i.jsx)("div",{onClick:function(){n&&n()},className:"btn"+a,role:"button",children:c||"Click"})}),b=(n(29),function(e){var t=e.onChange,n=e.children;return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)("input",{id:"fileInput",type:"file",onChange:t,className:"none"}),Object(i.jsxs)("label",{htmlFor:"fileInput",className:"file_input",title:"Upload file",children:[Object(i.jsx)(h,{children:"Choose"}),Object(i.jsx)("span",{children:n||"File not selected"})]})]})}),m=(n(30),function(e){var t=e.data,n=e.state,c=e.onChange;return Object(i.jsx)("form",{onChange:c,className:"radio_group",children:t.map((function(e){return Object(i.jsxs)("div",{className:"radio_item",children:[Object(i.jsx)("input",{id:"engine_"+e.id,type:"radio",name:"engine",value:e.id,defaultChecked:n.id===e.id}),Object(i.jsx)("label",{htmlFor:"engine_"+e.id,children:e.name})]},e.id)}))})}),f=function(e){var t=e.size,n=void 0===t?"24":t,c=e.color,a=void 0===c?"#fff":c;return Object(i.jsx)("div",{className:"loader",children:Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:Object(i.jsx)("circle",{cx:"50",cy:"50",fill:"none",stroke:a,strokeWidth:"10",r:"35",strokeDasharray:"164.93361431346415 56.97787143782138",transform:"rotate(359.289 50.0009 50.0009)",children:Object(i.jsx)("animateTransform",{attributeName:"transform",type:"rotate",calcMode:"linear",values:"0 50 50;360 50 50",keyTimes:"0;1",dur:"1.2s",begin:"0s",repeatCount:"indefinite"})})})})},O=n(9),x=n(18),p=n.n(x),g=function(){document.title="Image search";var e=Object(c.useState)(null),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),o=Object(d.a)(r,2),s=o[0],l=o[1],x=Object(c.useState)(""),g=Object(d.a)(x,2),v=g[0],w=g[1],y=Object(c.useState)(!1),C=Object(d.a)(y,2),k=C[0],N=C[1],S=Object(c.useState)(""),F=Object(d.a)(S,2),_=F[0],U=F[1],T=[{id:1,name:"Google",url:"https://www.google.com/searchbyimage?image_url="},{id:2,name:"Yandex",url:"https://yandex.com/images/search?rpt=imageview&url="}],A=Object(c.useState)(T[0]),I=Object(d.a)(A,2),M=I[0],D=I[1],P=["video/mp4","video/webm"],R=function(e){var t=new Headers;t.append("Authorization","Client-ID f1f9224726db6dd");var n=new FormData;n.append("image",e),fetch("https://api.imgur.com/3/image",{method:"POST",headers:t,body:n}).then((function(e){return e.json()})).then((function(e){var t=e.data;if(!e.success)throw Error;l(!1),w(t.link),z(t.link)})).catch((function(e){U("Error. File not uploaded"),l(!1),w(""),a(null)}))},z=function(e){window.open(M.url+e,"_blank").focus()},E=function(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],i=atob(t[1]),c=i.length,a=new Uint8Array(c);c--;)a[c]=i.charCodeAt(c);return new File([a],"image."+n.split("/")[1],{type:n})};return Object(i.jsxs)(j,{title:"Search by image or video",children:[Object(i.jsxs)(O.d,{children:[Object(i.jsxs)(O.b,{children:[Object(i.jsx)(O.a,{children:"Upload file"}),Object(i.jsx)(O.a,{children:"Paste link"})]}),Object(i.jsx)(O.c,{children:Object(i.jsx)(b,{onChange:function(e){var t,n=e.target;_&&U(""),v&&w("");var i=null===(t=n.files)||void 0===t?void 0:t.item(0);P.find((function(e){return e===i.type}))?k&&N(!1):N(!0),a(i)},children:_||(n?n.name:"Select image or video")})}),Object(i.jsx)(O.c,{children:Object(i.jsx)(u,{onChange:function(e){var t=e.target;_&&U(""),v&&w(""),t.value.length>0?N(!0):N(!1),w(t.value)},hint:"Paste link to image"})})]}),Object(i.jsx)(m,{data:T,state:M,onChange:function(e){var t=e.target;D(T.filter((function(e){return e.id===1*t.value}))[0])}}),v?Object(i.jsx)(h,{className:!k&&"main disable",onClick:function(){z(v)},children:"Find"}):Object(i.jsx)(h,{className:!k&&"main disable",onClick:function(){n?(l(!0),R(n)):(l(!1),U("Select a file!"))},children:s?Object(i.jsx)(f,{}):"Upload and find"}),n&&P.find((function(e){return e===n.type}))&&Object(i.jsx)(p.a,{videoUrl:URL.createObjectURL(n),thumbnailHandler:function(e){N(!0),a(E(e))},snapshotAtTime:2,renderThumbnail:!1})]})},v=function(){return document.title="404 Not Found",Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"404 Not Found"}),Object(i.jsx)("div",{children:Object(i.jsx)(s.b,{to:"/",children:"Go home"})})]})},w=function(){return Object(i.jsx)(s.a,{children:Object(i.jsxs)(l.c,{children:[Object(i.jsx)(l.a,{path:"/Image-Search",exact:!0,component:g}),Object(i.jsx)(l.a,{component:v,status:404})]})})};o.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(w,{})}),document.querySelector("#root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.28a3fef1.chunk.js.map
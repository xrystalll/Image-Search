{"version":3,"sources":["components/Layout/index.jsx","components/Button/index.jsx","components/FileInput/index.jsx","components/RadioGroup/index.jsx","components/Loader.jsx","routes/Home/index.jsx","routes/Error/index.jsx","App.jsx","index.jsx"],"names":["Layout","children","Button","className","onClick","cssClass","role","FileInput","onChange","type","id","htmlFor","title","RadioGroup","data","state","name","value","defaultChecked","Loader","size","color","xmlns","width","height","viewBox","preserveAspectRatio","cx","cy","fill","stroke","strokeWidth","r","strokeDasharray","transform","attributeName","calcMode","values","keyTimes","dur","begin","repeatCount","Home","useState","file","setFile","uploading","setUploading","uploaded","setUploaded","error","setError","engines","engine","setEngine","upload","headers","Headers","append","formdata","FormData","fetch","method","body","then","response","json","success","Error","link","search","catch","fileUrl","searcUrl","window","open","focus","e","target","files","NotFound","document","to","App","path","exact","component","status","ReactDOM","render","StrictMode","querySelector"],"mappings":"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","file":"static/js/main.5c7c18d5.chunk.js","sourcesContent":["import './style.css';\r\n\r\nconst Layout = ({ children }) => {\r\n  return (\r\n    <div>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Layout;\r\n","import './style.css';\r\n\r\nconst Button = ({ className, onClick, children }) => {\r\n  const cssClass = className ? ` ${className}` : ' main'\r\n\r\n  const click = () => {\r\n    onClick && onClick()\r\n  }\r\n\r\n  return (\r\n    <div onClick={click} className={'btn' + cssClass} role=\"button\">\r\n      {children || 'Click'}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Button;\r\n","import { Fragment } from 'react';\r\nimport Button from 'components/Button';\r\nimport './style.css';\r\n\r\nconst FileInput = ({ onChange, children }) => {\r\n  return (\r\n    <Fragment>\r\n      <input type=\"file\" onChange={onChange} id=\"fileInput\" className=\"none\" />\r\n      <label htmlFor=\"fileInput\" className=\"file_input\" title=\"Upload file\">\r\n        <Button>Choose</Button>\r\n        {children || 'File not selected'}\r\n      </label>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default FileInput;\r\n","import './style.css';\r\n\r\nconst RadioGroup = ({ data, state, onChange }) => {\r\n  return (\r\n    <form onChange={onChange} className=\"radio_group\">\r\n      <label>\r\n        <input type=\"radio\" name=\"engine\" value={data[0]} defaultChecked={state === data[0]} />\r\n        {data[0]}\r\n      </label>\r\n\r\n      <label>\r\n        <input type=\"radio\" name=\"engine\" value={data[1]} defaultChecked={state === data[1]} />\r\n        {data[1]}\r\n      </label>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default RadioGroup;\r\n","export const Loader = ({ size = '24', color = '#fff' }) => {\r\n  return (\r\n    <div className=\"loader\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width={size} height={size} viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid\">\r\n        <circle cx=\"50\" cy=\"50\" fill=\"none\" stroke={color} strokeWidth=\"10\" r=\"35\" strokeDasharray=\"164.93361431346415 56.97787143782138\" transform=\"rotate(359.289 50.0009 50.0009)\">\r\n          <animateTransform attributeName=\"transform\" type=\"rotate\" calcMode=\"linear\" values=\"0 50 50;360 50 50\" keyTimes=\"0;1\" dur=\"1.2s\" begin=\"0s\" repeatCount=\"indefinite\" />\r\n        </circle>\r\n      </svg>\r\n    </div>\r\n  )\r\n}\r\n","import { useState } from 'react';\r\nimport Layout from 'components/Layout';\r\nimport FileInput from 'components/FileInput';\r\nimport RadioGroup from 'components/RadioGroup';\r\nimport Button from 'components/Button';\r\nimport { Loader } from 'components/Loader';\r\nimport './style.css';\r\n\r\nconst Home = () => {\r\n  const [file, setFile] = useState(null)\r\n  const [uploading, setUploading] = useState(false)\r\n  const [uploaded, setUploaded] = useState('')\r\n  const [error, setError] = useState('')\r\n\r\n  const engines = ['Google', 'Yandex']\r\n  const [engine, setEngine] = useState(engines[0])\r\n\r\n  const apiUrl = 'https://api.imgur.com/3/image'\r\n  const clientId = 'f1f9224726db6dd'\r\n  const google = 'https://www.google.com/searchbyimage?image_url='\r\n  const yandex = 'https://yandex.com/images/search?rpt=imageview&url='\r\n\r\n  const chooseHandler = (e) => {\r\n    error && setError('')\r\n    setUploaded('')\r\n    setFile(e.target.files[0])\r\n  }\r\n\r\n  const uploadClick = () => {\r\n    if (file) {\r\n      setUploading(true)\r\n      upload(file)\r\n    } else {\r\n      setError('Select a file!')\r\n    }\r\n  }\r\n\r\n  const searchClick = () => {\r\n    search(uploaded)\r\n  }\r\n\r\n  const engineHandler = (e) => {\r\n    setEngine(e.target.value)\r\n  }\r\n\r\n  const upload = (file) => {\r\n    const headers = new Headers()\r\n    headers.append('Authorization', 'Client-ID ' + clientId)\r\n\r\n    const formdata = new FormData()\r\n    formdata.append('image', file)\r\n\r\n    const options = {\r\n      method: 'POST',\r\n      headers,\r\n      body: formdata\r\n    }\r\n\r\n    fetch(apiUrl, options)\r\n      .then(response => response.json())\r\n      .then(({ data, success }) => {\r\n        if (!success) throw Error\r\n\r\n        setUploading(false)\r\n        setUploaded(data.link)\r\n\r\n        search(data.link)\r\n      })\r\n      .catch(error => {\r\n        setError('Error. File not uploaded')\r\n        setUploading(false)\r\n        setUploaded('')\r\n        setFile(null)\r\n      })\r\n  }\r\n\r\n  const search = (fileUrl) => {\r\n    const searcUrl = engine === engines[0] ? google + fileUrl : yandex + fileUrl\r\n    const win = window.open(searcUrl, '_blank')\r\n    win.focus()\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <FileInput onChange={chooseHandler}>\r\n        <span>\r\n          {!error\r\n            ? file ? file.name : 'Select image or video'\r\n            : error\r\n          }\r\n        </span>\r\n      </FileInput>\r\n\r\n      <RadioGroup data={engines} state={engine} onChange={engineHandler} />\r\n\r\n      {!uploaded\r\n        ? <Button onClick={uploadClick}>{uploading ? <Loader /> : 'Upload and find'}</Button>\r\n        : <Button onClick={searchClick}>Find</Button>\r\n      }\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default Home;\r\n","import { Link } from 'react-router-dom';\r\n\r\nexport const NotFound = () => {\r\n  document.title = '404 Not Found'\r\n\r\n  return (\r\n    <div>\r\n      <h2>404 Not Found</h2>\r\n      <div>\r\n        <Link to=\"/\">Go home</Link>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Home from 'routes/Home';\nimport { NotFound } from 'routes/Error';\n\nconst App = () => {\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/\" exact component={Home} />\n        <Route component={NotFound} status={404} />\n      </Switch>\n    </Router>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'index.css';\nimport App from 'App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.querySelector('#root')\n);\n"],"sourceRoot":""}